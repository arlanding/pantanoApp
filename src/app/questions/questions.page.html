<pantano-header></pantano-header>
<ion-content>

    <div class="animated fadeIn">

        <ion-list></ion-list>

        <main class="px-4 pt-3">
            <section id="categorias">
                <ul>
                    <li *ngFor="let category of categories" (click)="categoryFilter(category)" [ngClass]="{active: category.id === categoryActive.id}">{{category.description}}</li>
                </ul>
            </section>
            <section>
                <ion-searchbar></ion-searchbar>
                <form name="form" (ngSubmit)="f.form.valid && submitForm()" #f="ngForm">
                    <div class="input-group mb-3">
                        <input type="text" class="form-control" placeholder="Filtrá palabra ó nº pregunta" name="newFilter"
                            [(ngModel)]="model.newFilter" #newFilter="ngModel" required>
                        <div class="input-group-append">
                            <button class="btn btn-success">Agregar
                                filtro</button>
                        </div>
                    </div>
                </form>
                <div id="filters">
                    <div *ngFor="let categoryFilter of categoryActive.keywords" class="alert alert-success fade show"
                        role="alert">
                        <strong>{{categoryFilter}}</strong>
                    </div>
                    <div *ngFor="let filter of filters" class="alert alert-warning alert-dismissible fade show" role="alert">
                        <strong>{{ filter }}</strong>
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)="removeFilter(filter)">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <button *ngIf="filters.length > 1" (click)="clearFilters()" class="btn btn-danger">Borrar
                        filtros</button>
                </div>
            </section>
            <section class="mt-3" id="answers">
                <pantano-question-card *ngFor="let question of currentQuestions" [question]="question"></pantano-question-card>
                <ion-infinite-scroll threshold="100px" (ionInfinite)="loadData($event)">
                    <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data...">
                    </ion-infinite-scroll-content>
                </ion-infinite-scroll>
            </section>
        </main>

        <footer class="px-4 py-2">
            <a href="https://federicofabre.com" target="_blank">@fedefabre</a> /
            <a href="https://www.linkedin.com/in/matias-miguenz-970402110" target="_blank">@matimiguenz</a> /
            <a href="https://instagram.com/pantanoapp" target="_blank">@pantanoApp</a>
        </footer>
    </div>

</ion-content>

<ion-tabs>
    <ion-tab-bar slot="bottom">
        <ion-tab-button tab="schedule">
            <ion-icon name="calendar"></ion-icon>
            <ion-label>Schedule</ion-label>
            <ion-badge>6</ion-badge>
        </ion-tab-button>

        <ion-tab-button tab="speakers">
            <ion-icon name="contacts"></ion-icon>
            <ion-label>Speakers</ion-label>
        </ion-tab-button>

        <ion-tab-button tab="map">
            <ion-icon name="map"></ion-icon>
            <ion-label>Map</ion-label>
        </ion-tab-button>

        <ion-tab-button tab="about">
            <ion-icon name="information-circle"></ion-icon>
            <ion-label>About</ion-label>
        </ion-tab-button>
    </ion-tab-bar>
</ion-tabs>